define("checks",[],function(){function e(e){return/\w/.test(e)}return{emptyLink:e}}),define("scribe-plugin-link-prompt-command",["./checks"],function(e){return function(n){var n=n||{};return function(t){var i=new t.api.Command("createLink");i.nodeName="A",i.execute=function(i){var a,o=new t.api.Selection,r=o.range,d=o.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this)),l=d?d.href:"";if(a=i?i:window.prompt("Enter a link.",l),!e.emptyLink(a))return void window.alert("This link appears empty");if(n&&n.validation){var m=n.validation(a);if(!m.valid)return void window.alert(m.message||"The link is not valid")}if(d&&(r.selectNode(d),o.selection.removeAllRanges(),o.selection.addRange(r)),a){var s=/^https?\:\/\//,u=/^mailto\:/;if(!s.test(a)&&!u.test(a))if(/@/.test(a)){var c=window.confirm("The URL you entered appears to be an email address. Do you want to add the required “mailto:” prefix?");c&&(a="mailto:"+a)}else{var p=window.confirm("The URL you entered appears to be a link. Do you want to add the required “http://” prefix?");p&&(a="http://"+a)}t.api.SimpleCommand.prototype.execute.call(this,a)}},i.queryState=function(){var e=new t.api.Selection;return!!e.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},t.commands.linkPrompt=i}}});
//# sourceMappingURL=scribe-plugin-link-prompt-command.min.js.map