define("scribe-plugin-link-prompt-command",[],function(){return function(e){var e=e||{};return function(n){var t=new n.api.Command("createLink");t.nodeName="A",t.execute=function(t){var i,a=new n.api.Selection,o=a.range,r=a.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this)),d=r?r.href:"";if(i=t?t:window.prompt("Enter a link.",d),e&&e.validation){var l=e.validation(i);if(!l.valid)return void window.alert(l.message||"The link is not valid")}if(r&&(o.selectNode(r),a.selection.removeAllRanges(),a.selection.addRange(o)),i){var m=/^https?\:\/\//,s=/^mailto\:/;if(!m.test(i)&&!s.test(i))if(/@/.test(i)){var u=window.confirm("The URL you entered appears to be an email address. Do you want to add the required “mailto:” prefix?");u&&(i="mailto:"+i)}else{var p=window.confirm("The URL you entered appears to be a link. Do you want to add the required “http://” prefix?");p&&(i="http://"+i)}n.api.SimpleCommand.prototype.execute.call(this,i)}},t.queryState=function(){var e=new n.api.Selection;return!!e.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},n.commands.linkPrompt=t}}});
//# sourceMappingURL=scribe-plugin-link-prompt-command.min.js.map